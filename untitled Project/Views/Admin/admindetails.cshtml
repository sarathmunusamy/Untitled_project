@using untitled_Project;
@model untitled_Project.Models.DataModel
@{
    ViewBag.Title = "DetailsView";
}


<table class="table" style="margin-top:10%">
    <tr>
        <th>
            Main Image
        </th>
        <th>
            Name
        </th>
        <th>
            Price
        </th>
        <th>
            MarketPrice
        </th>
        <th>
            Size
        </th>
        <th>
            Color
        </th>
        <th>
            Stock
        </th>
        <th>
            MainTag
        </th>
        <th>
            Tag1
        </th>
        <th>
            Tag2
        </th>
        <th>
            Tag3
        </th>
        <th>
            Tag4
        </th>
        <th>
            Tag5
        </th>
        <th>
            Tag6
        </th>
        <th>
            Tag7
        </th>
        <th>
            Product Description
        </th>
        <th></th>
    </tr>

    @foreach( var item in Model.productDetail )
    {
        IEnumerable<productImage> list = Model.productImage;


        var imageModel = list.Where( x => x.pID == item.ID ).SingleOrDefault();
        var base64 = Convert.ToBase64String( imageModel.mainImg );
        var imgSrc = String.Format( "data:image/gif;base64,{0}", base64 );
        <tr>
            <td>
                <div id="mainImage"> <img src='@imgSrc' style="max-width:100px; max-height:100px;" /></div>
            </td>
            <td>
                @Html.DisplayFor( modelItem => item.name )
            </td>
            <td>
                @Html.DisplayFor( modelItem => item.price )
            </td>
            <td>
                @Html.DisplayFor( modelItem => item.marketPrice )
            </td>
            <td>
                @Html.DisplayFor( modelItem => item.size )
            </td>
            <td>
                @Html.DisplayFor( modelItem => item.color )
            </td>
            <td>
                @Html.DisplayFor( modelItem => item.stock )
            </td>
            <td>
                @Html.DisplayFor( modelItem => item.maintag )
            </td>
            <td>
                @Html.DisplayFor( modelItem => item.tag1 )
            </td>
            <td>
                @Html.DisplayFor( modelItem => item.tag2 )
            </td>
            <td>
                @Html.DisplayFor( modelItem => item.tag3 )
            </td>
            <td>
                @Html.DisplayFor( modelItem => item.tag4 )
            </td>
            <td>
                @Html.DisplayFor( modelItem => item.tag5 )
            </td>
            <td>
                @Html.DisplayFor( modelItem => item.tag6 )
            </td>
            <td>
                @Html.DisplayFor( modelItem => item.tag7 )
            </td>
            <td>
                @Html.DisplayFor( modelItem => item.productDescription )
            </td>
            <td>
                @Html.ActionLink( "Edit", "Edit", new { id = item.ID } ) |
                @Html.ActionLink( "Details", "Details", new { id = item.ID } ) |
                @Html.ActionLink( "Delete", "Delete", new { id = item.ID } )

                @Html.ActionLink( "Edit Image", "EditImage", new { id = item.ID } )

            </td>
        </tr>
    }

</table>
